<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- Vue liste des donn√©es m√©t√©o -->
    <record id="view_meteo_data_list" model="ir.ui.view">
        <field name="name">meteo.data.list</field>
        <field name="model">meteo.data</field>
        <field name="arch" type="xml">
            <tree string="Donn√©es m√©t√©orologiques">
                <field name="date"/>
                <field name="exploitation_id"/>
                <field name="parcelle_id"/>
                <field name="temperature"/>
                <field name="precipitation"/>
                <field name="humidite"/>
                <field name="rayonnement_solaire"/>
                <field name="vitesse_vent"/>
                <field name="stress_thermique"/>
                <field name="stress_hydrique"/>
                <field name="alerte_gel"/>
                <field name="alerte_canicule"/>
                <field name="alerte_secheresse"/>
                <field name="alerte_inondation"/>
                <field name="alerte_vent"/>
            </tree>
        </field>
    </record>

    <!-- Vue formulaire des donn√©es m√©t√©o -->
    <record id="view_meteo_data_form" model="ir.ui.view">
        <field name="name">meteo.data.form</field>
        <field name="model">meteo.data</field>
        <field name="arch" type="xml">
            <form string="Donn√©e m√©t√©orologique">
                <sheet>
                    <group>
                        <group string="Informations g√©n√©rales">
                            <field name="date"/>
                            <field name="exploitation_id"/>
                            <field name="parcelle_id"/>
                        </group>
                        <group string="Donn√©es m√©t√©orologiques">
                            <field name="temperature"/>
                            <field name="precipitation"/>
                            <field name="humidite"/>
                            <field name="rayonnement_solaire"/>
                            <field name="vitesse_vent"/>
                        </group>
                    </group>
                    <group>
                        <group string="Stress calcul√©s">
                            <field name="stress_thermique"/>
                            <field name="stress_hydrique"/>
                        </group>
                        <group string="Alertes">
                            <field name="alerte_gel"/>
                            <field name="alerte_canicule"/>
                            <field name="alerte_secheresse"/>
                            <field name="alerte_inondation"/>
                            <field name="alerte_vent"/>
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Vue kanban des donn√©es m√©t√©o -->
    <record id="view_meteo_data_kanban" model="ir.ui.view">
        <field name="name">meteo.data.kanban</field>
        <field name="model">meteo.data</field>
        <field name="arch" type="xml">
            <kanban string="Donn√©es m√©t√©orologiques">
                <field name="date"/>
                <field name="exploitation_id"/>
                <field name="temperature"/>
                <field name="precipitation"/>
                <field name="stress_thermique"/>
                <field name="stress_hydrique"/>
                <templates>
                    <t t-name="kanban-box">
                        <div class="oe_kanban_card oe_kanban_global_click">
                            <div class="oe_kanban_content">
                                <div class="o_kanban_record_top">
                                    <div class="o_kanban_record_headings">
                                        <strong class="o_kanban_record_title">
                                            <field name="date"/>
                                        </strong>
                                        <small class="o_kanban_record_subtitle">
                                            <field name="exploitation_id"/>
                                        </small>
                                    </div>
                                </div>
                                <div class="o_kanban_record_body">
                                    <div class="row">
                                        <div class="col-6">
                                            <strong>üå°Ô∏è Temp√©rature:</strong> <field name="temperature"/>¬∞C
                                        </div>
                                        <div class="col-6">
                                            <strong>üåßÔ∏è Pr√©cipitations:</strong> <field name="precipitation"/>mm
                                        </div>
                                    </div>
                                    <div class="row mt-2">
                                        <div class="col-6">
                                            <strong>üî• Stress thermique:</strong> <field name="stress_thermique"/>
                                        </div>
                                        <div class="col-6">
                                            <strong>üíß Stress hydrique:</strong> <field name="stress_hydrique"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <!-- Vue graphique des donn√©es m√©t√©o -->
    <record id="view_meteo_data_graph" model="ir.ui.view">
        <field name="name">meteo.data.graph</field>
        <field name="model">meteo.data</field>
        <field name="arch" type="xml">
            <graph string="Donn√©es m√©t√©orologiques" type="line">
                <field name="date" interval="day"/>
                <field name="temperature" type="measure"/>
                <field name="precipitation" type="measure"/>
            </graph>
        </field>
    </record>

    <!-- Vue pivot des donn√©es m√©t√©o -->
    <record id="view_meteo_data_pivot" model="ir.ui.view">
        <field name="name">meteo.data.pivot</field>
        <field name="model">meteo.data</field>
        <field name="arch" type="xml">
            <pivot string="Donn√©es m√©t√©orologiques">
                <field name="date" interval="day" type="row"/>
                <field name="exploitation_id" type="row"/>
                <field name="temperature" type="measure"/>
                <field name="precipitation" type="measure"/>
                <field name="humidite" type="measure"/>
            </pivot>
        </field>
    </record>

    <!-- Action pour les donn√©es m√©t√©o -->
    <record id="action_meteo_data" model="ir.actions.act_window">
        <field name="name">Donn√©es M√©t√©orologiques</field>
        <field name="res_model">meteo.data</field>
        <field name="view_mode">tree,form,kanban,graph,pivot</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Importez vos premi√®res donn√©es m√©t√©orologiques !
            </p>
            <p>
                Collectez et analysez les donn√©es m√©t√©o : temp√©ratures, pr√©cipitations, 
                humidit√©, vent et rayonnement solaire pour vos parcelles.
            </p>
        </field>
    </record>

    <!-- Menu pour les donn√©es m√©t√©o -->
    <menuitem id="menu_meteo_data" 
              name="Donn√©es M√©t√©o" 
              parent="menu_ia_main" 
              action="action_meteo_data" 
              sequence="15"/>
</odoo>
