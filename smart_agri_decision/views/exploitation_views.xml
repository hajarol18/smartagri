<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="view_exploitation_list" model="ir.ui.view">
        <field name="name">exploitation.agri.list</field>
        <field name="model">exploitation.agri</field>
        <field name="priority">1</field>
        <field name="arch" type="xml">
            <list string="Exploitation">
                <field name="nom"/>
                <field name="proprietaire"/>
                <field name="superficie_totale"/>
                <field name="ville"/>
                <field name="zone_climatique"/>
                <field name="type_sol"/>
            </list>
        </field>
    </record>

    <record id="view_exploitation_form" model="ir.ui.view">
        <field name="name">exploitation.agri.form</field>
        <field name="model">exploitation.agri</field>
        <field name="arch" type="xml">
            <form string="Exploitation">
                <sheet>
                    <group>
                        <group>
                            <field name="nom"/>
                            <field name="proprietaire"/>
                            <field name="superficie_totale"/>
                            <field name="adresse"/>
                        </group>
                        <group>
                            <field name="ville"/>
                            <field name="code_postal"/>
                            <field name="telephone"/>
                            <field name="email"/>
                        </group>
                    </group>
                    
                    <group string="Donn√©es g√©ographiques">
                        <group>
                            <field name="latitude"/>
                            <field name="longitude"/>
                            <field name="altitude"/>
                        </group>
                        <group>
                            <field name="zone_climatique"/>
                            <field name="type_sol"/>
                        </group>
                    </group>
                    
                    <!-- Bouton pour importer la m√©t√©o -->
                    <group string="Donn√©es M√©t√©orologiques">
                        <button name="action_importer_meteo" 
                                type="object" 
                                string="üå§Ô∏è Importer M√©t√©o (7 jours)" 
                                class="btn-primary"
                                invisible="not latitude or not longitude"
                                help="R√©cup√®re automatiquement les donn√©es m√©t√©o des 7 prochains jours pour cette exploitation"/>
                        <field name="derniere_import_meteo" readonly="1"/>
                        <field name="prochaine_alerte_meteo" readonly="1"/>
                    </group>
                    
                    <!-- Statistiques (seront ajout√©es plus tard) -->
                    <!-- <group>
                        <group>
                            <field name="nombre_parcelles"/>
                            <field name="superficie_cultivee"/>
                        </group>
                    </group> -->
                    
                    <!-- Notebook (sera ajout√© plus tard) -->
                    <!-- <notebook>
                        <page string="Parcelles">
                            <field name="parcelles_ids" readonly="1">
                                <list>
                                    <field name="nom"/>
                                    <field name="superficie"/>
                                    <field name="type_sol"/>
                                    <field name="systeme_irrigation"/>
                                </list>
                            </field>
                        </page>
                        <page string="Cultures">
                            <field name="cultures_ids" readonly="1">
                                <list>
                                    <field name="nom"/>
                                    <field name="parcelle_id"/>
                                    <field name="date_semis"/>
                                    <field name="rendement"/>
                                    <field name="etat_culture"/>
                                </list>
                            </field>
                        </page>
                        <page string="Interventions">
                            <field name="interventions_ids" readonly="1">
                                <list>
                                    <field name="nom"/>
                                    <field name="type_intervention"/>
                                    <field name="date_intervention"/>
                                    <field name="etat"/>
                                </list>
                            </field>
                        </page>
                    </notebook> -->
                </sheet>
            </form>
        </field>
    </record>

    <record id="action_exploitation_agri" model="ir.actions.act_window">
        <field name="name">Exploitations</field>
        <field name="res_model">exploitation.agri</field>
        <field name="view_mode">list,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Cr√©ez votre premi√®re exploitation agricole
            </p>
        </field>
    </record>
</odoo>
